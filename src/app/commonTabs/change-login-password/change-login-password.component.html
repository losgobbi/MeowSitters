<ion-header [translucent]="true">
</ion-header>
<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <img src="../../../assets/imgs/home.png" style="display: block; margin-left: auto; margin-right: auto;">
    </ion-card-header>
    <ion-card-content class="intro ion-text-center">
      <ion-text>
        Primeiro acesso, altere a sua senha:
      </ion-text>
      <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
        <ion-list lines="full" class="ion-no-margin ion-no-padding">
            <ion-item>
              <ion-label position="floating">Nova senha</ion-label>
              <ion-input formControlName="password" type="password"></ion-input>
            </ion-item>
            <p slot="end" *ngIf="changePasswordForm.get('password').errors && changePasswordForm.get('password').dirty">
              Senha não é válida.
            </p>
            <ion-item>
              <ion-label position="floating">Repetir nova Senha</ion-label>
              <ion-input formControlName="repeatPassword"  type="password"></ion-input>
            </ion-item>
            <p slot="end" *ngIf="changePasswordForm.get('repeatPassword').errors && changePasswordForm.get('repeatPassword').dirty">
              Senha não é válida.
            </p>
            <p slot="end" *ngIf="changePasswordForm.get('repeatPassword').hasError('notEqual') &&  changePasswordForm.get('repeatPassword').dirty">
              Senha não é igual a anterior.
            </p>
            <p slot="end" *ngIf="changePasswordForm.get('repeatPassword').hasError('hasCapitalCase') &&  changePasswordForm.get('repeatPassword').dirty">
              Senha deve possuir uma letra maiúscula.
            </p>
            <p slot="end" *ngIf="changePasswordForm.get('repeatPassword').hasError('hasMinimalLen') &&  changePasswordForm.get('repeatPassword').dirty">
              Senha deve possuir no mínimo 8 caracteres.
            </p>
        </ion-list>
        <div class="spacer" style="height: 10px;"></div>
        <ion-button expand="block" type="submit" class="ion-no-margin" disabled="{{!changePasswordForm.valid}}" color="sitters">ALTERAR SENHA</ion-button>
        <div class="spacer" style="height: 10px;"></div>
      </form>
  </ion-card-content>
</ion-card>
</ion-content>